{% extends "accounts/base.html" %}

{% load url from future %}
{% load i18n %}
{% load staticfiles %}

{% block head_title %}Profil{% endblock %}

{% block content %}
<form id="signup-form" class="signup form-horizontal" method="post"
      enctype='multipart/form-data'
      action="{% url 'accounts:profile' %}">
  {% csrf_token %}
  {% if form.non_field_errors %}
  <div class="alert alert-danger">
    {{ form.non_field_errors }}
  </div>
  {% endif %}
  <fieldset>
    <legend>{% trans 'Connexion' %}</legend>
    {% include 'accounts/field.html' with field=form.password1 %}
    {% include 'accounts/field.html' with field=form.password2 %}
  </fieldset>
  <fieldset>
    <legend>{% trans 'Photo profil' %}</legend>
    <img alt="Photo profil" src="{% if user.organization.picture %}{{MEDIA_URL}}/{{ user.organization.picture }}{% else %}{% static "img/profile_picture_placeholder.png" %}{% endif %}">
    {% include 'accounts/field.html' with field=form.organization_picture %}
  </fieldset>
  <fieldset>
    <legend>{% trans 'Infos structure' %}</legend>
    <div id="main-organization-types">
      {% include 'accounts/checkbox_field.html' with field=form.organization_is_provider %}
      {% include 'accounts/checkbox_field.html' with field=form.organization_is_consumer %}
    </div>
    {% if user.organization.is_provider %}
    <div class="organization-type-details">
      {% include 'accounts/checkbox_field.html' with field=form.organization_is_creator %}
      {% include 'accounts/checkbox_field.html' with field=form.organization_is_host %}
      {% include 'accounts/checkbox_field.html' with field=form.organization_is_performer %}
    </div>
    {% endif %}
    {% if user.organization.is_consumer %}
    <div class="organization-type-details">
      {% include 'accounts/checkbox_field.html' with field=form.organization_is_media %}
      {% include 'accounts/checkbox_field.html' with field=form.organization_media_url %}
      {% include 'accounts/checkbox_field.html' with field=form.organization_is_website %}
      {% include 'accounts/checkbox_field.html' with field=form.organization_website_url %}
      {% include 'accounts/checkbox_field.html' with field=form.organization_is_mobile_app %}
      {% include 'accounts/checkbox_field.html' with field=form.organization_mobile_app_name %}
      {% include 'accounts/checkbox_field.html' with field=form.organization_is_other %}
      {% include 'accounts/checkbox_field.html' with field=form.organization_other_details %}
    </div>
    {% endif %}
    {% include 'accounts/field.html' with field=form.organization_type %}
    {% include 'accounts/field.html' with field=form.organization_name %}
    {% include 'accounts/field.html' with field=form.organization_address %}
    {% include 'accounts/field.html' with field=form.organization_post_code %}
    {% include 'accounts/field.html' with field=form.organization_town %}
    {% include 'accounts/field.html' with field=form.organization_url %}
    {% include 'accounts/field.html' with field=form.organization_activity_field %}
  </fieldset>
  <fieldset>
    <legend>{% trans 'Contact / référent ODE' %}</legend>
    {% include 'accounts/field.html' with field=form.last_name %}
    {% include 'accounts/field.html' with field=form.first_name %}
    {% include 'accounts/field.html' with field=form.email %}
    {% include 'accounts/field.html' with field=form.phone_number %}
  </fieldset>
  <fieldset>
    <legend>{% trans 'Infos générales événements' %}</legend>
    <p>{% trans 'À renseigner si applicable à tous vos événements' %}</p>
    {% include 'accounts/field.html' with field=form.organization_price_information %}
    {% include 'accounts/field.html' with field=form.organization_audience %}
    {% include 'accounts/field.html' with field=form.organization_capacity %}
  </fieldset>
  <fieldset>
    <legend>{% trans 'Contact Billeterie' %}</legend>
    {% include 'accounts/field.html' with field=form.organization_ticket_contact_name %}
    {% include 'accounts/field.html' with field=form.organization_ticket_contact_email %}
    {% include 'accounts/field.html' with field=form.organization_ticket_contact_phone_number %}
    <legend>{% trans 'Contact Presse' %}</legend>
    {% include 'accounts/field.html' with field=form.organization_press_contact_name %}
    {% include 'accounts/field.html' with field=form.organization_press_contact_email %}
    {% include 'accounts/field.html' with field=form.organization_press_contact_phone_number %}
  </fieldset>
  <button type="submit" class="btn btn-default">{% trans 'Sauvegarder' %}</button>
</form>
{% endblock %}
